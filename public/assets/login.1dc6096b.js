import{n as l,v as u}from"./index.ffd2517c.js";var c=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container my-3 my-lg-4"},[t("div",{staticClass:"row align-items-center justify-content-center min-vh-100"},[t("div",{staticClass:"login text-center"},[t("v-logo",{attrs:{"font-size":5}}),t("h4",{staticClass:"mt-3"},[e._v("Welcome Back")]),t("p",[e._v("Enter your password to continue")]),t("validation-observer",{scopedSlots:e._u([{key:"default",fn:function(o){return[t("form",{on:{submit:function(r){r.preventDefault(),o.handleSubmit(function(){return e.login(o)})}}},[t("div",{staticClass:"row no-gutters mb-3"},[t("div",{staticClass:"col-10 pr-2"},[t("validation-provider",{attrs:{name:"password",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":a.length},attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(i){i.target.composing||(e.password=i.target.value)}}}),t("div",{staticClass:"invalid-feedback"},[e._v(e._s(a[0]))])]}}],null,!0)})],1),t("div",{staticClass:"col-2"},[t("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"submit"}},[t("i",{staticClass:"fas fa-arrow-right"})])])])])]}}])}),t("router-link",{attrs:{to:"/forgot-password"}},[e._v("Forgot Password?")])],1)])])},d=[];const p={components:{vLogo:u},data(){return{password:""}},methods:{login(e){return this.$store.dispatch("request",{type:"post",auth:!1,url:"login",query:{password:this.password}}).then(async s=>(await this.$store.dispatch("setTokens",{authToken:s.auth_token}),await this.$store.dispatch("getBotInfo"),await this.$store.dispatch("getAllocation"),this.$route.query.redirect&&this.$route.query.redirect!==this.$route.path?this.$router.replace(this.$route.query.redirect):!this.$store.state.bot.alphainsider||!this.$store.state.bot.broker||this.$store.state.allocation.length<=0?this.$router.replace("/setup"):this.$router.replace("/"))).catch(s=>{toastr.error("Failed to login. Please try again."),this.password=""})}}},n={};var v=l(p,c,d,!1,h,"2b16d9a6",null,null);function h(e){for(let s in n)this[s]=n[s]}var f=function(){return v.exports}();export{f as default};
