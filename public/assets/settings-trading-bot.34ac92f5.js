import{a as i,v as n}from"./v-strategy-select.a11532ff.js";import{v as c}from"./v-alphainsider.48f507f7.js";import{v as l}from"./v-modal.4101b803.js";import{n as d}from"./index.ffd2517c.js";import"./v-dropdown-menu.536c89db.js";var u=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header d-flex align-items-center bg-white"},[e("h5",{staticClass:"text-primary mb-0"},[t._v("Strategies")]),e("div",{staticClass:"d-flex ml-auto"},[e("button",{staticClass:"btn btn-light btn-sm border ml-auto",attrs:{disabled:!t.$store.state.bot.alphainsider||!t.$store.state.bot.broker,type:"button"},on:{click:function(a){t.showStrategySelectModal=!0}}},[e("i",{staticClass:"fas fa-pencil-alt"}),t._v(" Edit")])])]),e("div",{staticClass:"card-body"},[t.$store.state.allocation.length>0?e("div",t._l(t.$store.state.allocation,function(a,r){return e("div",{key:a.strategy_id},[e("v-strategy",{attrs:{strategy:a}}),r!==t.$store.state.allocation.length-1?e("hr"):t._e()],1)}),0):e("div",{staticClass:"d-flex-column bg-light rounded text-center py-4 mt-1"},[e("h5",{staticClass:"my-2"},[t._v("No Strategy Selected")])])])]),e("div",{staticClass:"card mt-3"},[t._m(0),e("div",{staticClass:"card-body"},[e("div",{staticClass:"p-1"},[e("div",{staticClass:"d-flex align-items-center"},[t._m(1),e("div",{staticClass:"custom-control custom-switch ml-auto"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"rebalanceOnStart-switch"},domProps:{checked:t.$store.state.bot.rebalance_on_start},on:{input:function(a){return t.updateSettings({rebalance_on_start:!t.$store.state.bot.rebalance_on_start})}}}),e("label",{staticClass:"custom-control-label pointer",attrs:{for:"rebalanceOnStart-switch"}})])]),e("div",{staticClass:"d-flex align-items-center"},[t._m(2),e("div",{staticClass:"custom-control custom-switch ml-auto"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"closeOnStop-switch"},domProps:{checked:t.$store.state.bot.close_on_stop},on:{input:function(a){return t.updateSettings({close_on_stop:!t.$store.state.bot.close_on_stop})}}}),e("label",{staticClass:"custom-control-label pointer",attrs:{for:"closeOnStop-switch"}})])])])])]),t.showStrategySelectModal?e("v-modal",{on:{close:function(a){t.showStrategySelectModal=!1}}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header bg-white d-flex p-3"},[e("h5",{staticClass:"text-primary mb-0"},[t._v("Strategy Select")]),e("h5",{staticClass:"mb-0 ml-auto",on:{click:function(a){t.showStrategySelectModal=!1}}},[e("i",{staticClass:"far fa-times text-muted pointer"})])]),e("div",{staticClass:"card-body p-3"},[e("v-strategy-select",{on:{update:function(a){return t.$router.go()}}})],1)])]):t._e()],1)},v=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"d-flex card-header bg-white"},[e("h5",{staticClass:"text-primary mb-0"},[t._v("General Settings")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("p",{staticClass:"mb-0"},[t._v("Rebalance On Start")]),e("small",{staticClass:"text-muted"},[t._v("Rebalance immediately when the trading bot starts.")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("p",{staticClass:"mb-0"},[t._v("Close On Stop")]),e("small",{staticClass:"text-muted"},[t._v("Close all positions when the trading bot stops.")])])}];const _={components:{vAlphainsider:c,vStrategy:i,vStrategySelect:n,vModal:l},data(){return{allocation:[],strategies:[],showStrategySelectModal:!1}},async mounted(){await this.$store.dispatch("getBotInfo"),await this.$store.dispatch("getAllocation")},methods:{async updateSettings(t){try{await this.$store.dispatch("request",{type:"post",auth:!0,url:"updateSettings",query:t}),await this.$store.dispatch("getBotInfo")}catch{toastr.error("Failed to update bot trading settings.")}}}},o={};var m=d(_,u,v,!1,p,"5661a047",null,null);function p(t){for(let s in o)this[s]=o[s]}var y=function(){return m.exports}();export{y as default};
