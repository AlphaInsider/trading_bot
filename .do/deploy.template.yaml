spec:
  name: trading-bot
  services:
    - name: web
      instance_count: 1
      instance_size_slug: basic-xxs
      image:
        registry_type: DOCKER_HUB
        registry: alphainsider
        repository: trading_bot
        tag: latest
      health_check:
        http_path: /
        initial_delay_seconds: 30
      envs:
        - key: DATABASE_URL
          scope: RUN_TIME
          value: ${database.DATABASE_URL}
  databases:
    - cluster_name: db-cluster
      name: database
      engine: PG
      version: "12"
      production: false
  envs:
    - key: ALPACA_KEY
      type: GENERAL
    - key: ALPACA_SECRET
      type: GENERAL
    - key: ALPHAINSIDER_API_KEY
      type: GENERAL
    - key: STRATEGY_ID
      type: GENERAL
    - key: MARGIN_MULTIPLIER
      value: "1"
      type: GENERAL
    - key: BUFFER_AMOUNT
      value: "0"
      type: GENERAL